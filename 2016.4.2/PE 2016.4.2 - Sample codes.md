# Sample puppet code for common tasks

_Note : Remember, we define a_ **state** _in puppet. We do not tell Puppet, how to get to that state._

_For eg. We would say "Hey Puppet, ensure that package 'apache' is installed." Puppet translates it to relevant commands based on the system it is running on. So on a RHEL-based system, Puppet would run_ **something like** _a ```yum list installed | grep apache``` and if the output is nothing then do something like ```yum install apache```._

_Imp thing to note is, Puppet doesn't exactly know what "apache" is. All it knows is the state for a node i.e. in this case, "the node must have a package called apache". Puppet's job is to intelligently translate that_ **state definition** _to a system level command and give you the result of the command execution. So, if the package name for apache is "apache2",_ **you** _will have to tell that to Puppet._

## [File related](https://docs.puppet.com/puppet/4.7/types/file.html)

### Create a file
  
  ```
  file { '/tmp/testfile' :
  ensure => file,   # "present" does the same. "directory" will create a directory. "absent" will delete.
  }
  
  # Works exactly like 'touch /tmp/testfile' on the command line.
  ``` 

## [Package related](https://docs.puppet.com/puppet/4.7/types/package.html)

### Install a package
  
  ```
  package { "bash" :
  ensure => installed, # "latest" will install the latest version. "absent" will remove the package.
  }
  
  # Works exactly like 'yum or apt-get install bash', if the package is not already installed.
  ```


## [Service related](https://docs.puppet.com/puppet/4.7/types/service.html)

### Start a service

  ```
  service { "httpd" :
  ensure => running,  # "stopped" will stop it.
  enable => true,     # "true" - start service at boot. "false" to NOT start at boot.
  }
  
  # Works exactly like 'service httpd start', if it is not already running.
  ```


## [User](https://docs.puppet.com/puppet/4.7/types/user.html)/[Group](https://docs.puppet.com/puppet/4.7/types/group.html) related

### Create a user
  
  ```
  user { 'foo':
  ensure     => 'present',  # "absent" deletes the user.
  }
  ```



---
_inspired by www.puppetcookbook.com_
